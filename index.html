<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>عرض خاص من نور ستور: توصيل مجاني للباب الشبكي المغناطيسي!</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c; 
            --background-color: #ecf0f1;
            --text-color: #333;
            --white-color: #ffffff;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
        }

        body {
            font-family: 'Cairo', 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        .container { max-width: 960px; margin: 0 auto; padding: 20px; }
        header { background-color: var(--primary-color); color: var(--white-color); padding: 40px 20px; text-align: center; }
        header h1 { margin: 0 0 15px; font-size: 2.5em; font-weight: 700; }
        .promo-text { font-size: 1.3em; margin-top: 25px; margin-bottom: 15px; font-weight: bold; color: #f1c40f; }
        
        .rating { margin-top: 15px; font-size: 1.2em; color: #f1c40f; }
        .rating-text { color: var(--white-color); opacity: 0.9; font-size: 0.9em; display: block; margin-top: 5px; }

        .sales-stat {
            display: inline-block;
            margin-top: 20px;
            background-color: rgba(46, 204, 113, 0.15);
            color: var(--success-color);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .price-container {
            margin: 25px auto 0;
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            border: 2px dashed #f1c40f;
        }
        .price-box {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        .new-price {
            font-size: 2.8em;
            font-weight: 700;
            color: var(--white-color);
        }
        .old-price {
            font-size: 1.8em;
            color: #ccc;
            text-decoration: line-through;
            opacity: 0.7;
        }
        .savings {
            margin-top: 5px;
            font-size: 1.2em;
            font-weight: bold;
            color: var(--success-color);
        }
        #order-section .new-price { color: var(--primary-color); }
        #order-section .old-price { color: #888; }
        #order-section .price-container { border: none; }
        #order-section .savings { color: var(--secondary-color); }

        #countdown-timer { display: flex; justify-content: center; align-items: center; gap: 15px; margin-top: 20px; direction: ltr; flex-direction: row-reverse; }
        .timer-box { background: rgba(0, 0, 0, 0.2); padding: 15px; border-radius: 8px; min-width: 80px; text-align: center; }
        .timer-box span { display: block; font-size: 2.5em; font-weight: bold; color: var(--white-color); }
        .timer-box .timer-label { font-size: 0.9em; color: var(--background-color); opacity: 0.8; direction: rtl; }
        #offer-expired { font-size: 1.5em; font-weight: bold; color: var(--secondary-color); display: none; }

        .cta-button { display: inline-block; background-color: var(--success-color); color: var(--white-color); padding: 15px 35px; text-decoration: none; font-size: 1.3em; font-weight: bold; border-radius: 8px; margin-top: 25px; transition: background-color 0.3s ease, transform 0.2s ease; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border: none; cursor: pointer; font-family: 'Cairo', sans-serif; }
        .cta-button:hover { background-color: #27ae60; transform: scale(1.05); }
        
        #floating-cta-button { position: fixed; bottom: 20px; right: 20px; z-index: 1000; margin-top: 0; box-shadow: 0 5px 15px rgba(0,0,0,0.3); opacity: 0; transform: translateY(100px); transition: opacity 0.4s ease, transform 0.4s ease; pointer-events: none; }
        #floating-cta-button.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }

        .section { padding: 60px 20px; text-align: center; }
        .section-light { background-color: var(--white-color); }
        .section h2 { font-size: 2.5em; margin-bottom: 40px; color: var(--primary-color); }
        
        .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; text-align: right; }
        .feature { background: var(--white-color); padding: 25px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.08); }
        .feature h3 { font-size: 1.4em; margin-bottom: 10px; }
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
        .gallery-grid img { width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: transform 0.3s ease; cursor: pointer; }
        .gallery-grid img:hover { transform: scale(1.05); }
        .testimonials q { font-size: 1.2em; font-style: italic; display: block; margin-bottom: 10px; line-height: 1.8; }
        .testimonials footer { font-weight: bold; color: #3498db; }
        .faq { text-align: right; max-width: 700px; margin: 0 auto; }
        .faq details { background: var(--white-color); padding: 15px; margin-bottom: 10px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer; }
        .faq summary { font-weight: bold; font-size: 1.1em; }

        .lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.85); z-index: 10000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; overflow: hidden; }
        .lightbox.active { opacity: 1; pointer-events: auto; }
        .lightbox-content { max-width: 90%; max-height: 80%; box-shadow: 0 0 25px rgba(0,0,0,0.8); transition: transform 0.2s ease; cursor: grab; }
        .lightbox-content:active { cursor: grabbing; }
        .lightbox-close { position: absolute; top: 20px; right: 30px; font-size: 45px; color: white; cursor: pointer; z-index: 10002; }
        .lightbox-nav { position: absolute; top: 50%; transform: translateY(-50%); font-size: 50px; color: white; cursor: pointer; user-select: none; z-index: 10002; }
        .lightbox-prev { left: 30px; }
        .lightbox-next { right: 30px; }
        .lightbox-zoom-controls { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: rgba(0,0,0,0.5); border-radius: 20px; padding: 5px; display: flex; gap: 10px; z-index: 10002; }
        .lightbox-zoom-btn { font-size: 24px; color: white; cursor: pointer; width: 30px; height: 30px; display: flex; justify-content: center; align-items: center; }
        
        #order-section { padding-bottom: 100px; }
        .order-form { max-width: 600px; margin: 40px auto 0; background: #f9f9f9; padding: 30px 40px; border-radius: 8px; border: 1px solid #ddd; text-align: right; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; color: var(--primary-color); font-size: 1.1em; }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 5px; font-size: 1em; font-family: 'Cairo', sans-serif; box-sizing: border-box; text-align: right; }
        .form-group textarea { resize: vertical; min-height: 100px; }
        .order-form .cta-button { width: 100%; margin-top: 10px; }
        #phone-error { color: var(--error-color); font-weight: bold; font-size: 0.9em; min-height: 1em; margin-top: 5px; }

        @media (max-width: 768px) {
            .container { padding: 15px; }
            header { padding: 20px 15px; }
            header h1 { font-size: 1.8em; margin-bottom: 10px; }
            
            .social-proof-box { display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; margin-top: 15px; }
            .social-proof-box .rating, .social-proof-box .sales-stat { margin-top: 0; }
            .social-proof-box .rating { font-size: 1em; }
            .social-proof-box .rating-text { font-size: 0.8em; }
            .social-proof-box .sales-stat { font-size: 0.9em; padding: 6px 12px; }
            
            .promo-text { font-size: 1.1em; margin-top: 15px; margin-bottom: 10px; }
            
            .price-container { display: flex; flex-wrap: wrap; justify-content: center; align-items: baseline; gap: 10px 15px; border: none; padding: 0; margin-top: 15px; }
            .price-box { gap: 10px; }
            .new-price { font-size: 2.2em; }
            .old-price { font-size: 1.4em; }
            .savings { margin-top: 0; font-size: 1em; padding: 4px 10px; border-radius: 5px; background-color: var(--secondary-color); color: var(--white-color); }

            #countdown-timer { margin-top: 15px; }
            .timer-box { min-width: 65px; padding: 10px; }
            .timer-box span { font-size: 1.8em; }
            .timer-box .timer-label { font-size: 0.8em; }
            
            .cta-button { font-size: 1.15em; padding: 15px 25px; margin-top: 15px; width: 90%; box-sizing: border-box; }

            #floating-cta-button { right: 15px; bottom: 90px; }
            .section { padding: 40px 15px; }
            .section h2 { font-size: 2em; }
            .order-form { padding: 20px; }
            .lightbox-nav { font-size: 40px; }
            .lightbox-prev { left: 15px; }
            .lightbox-next { right: 15px; }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header>
        <div class="container">
            <h1>الباب الشبكي المغناطيسي من نور ستور</h1>
            <div class="social-proof-box">
                <div class="rating">
                    تقييم 4.5 / 5 نجوم ★★★★☆
                    <span class="rating-text">(أكثر من 150 تقييم)</span>
                </div>
                <div class="sales-stat">
                    🔥 تم بيع أكثر من 5000 قطعة!
                </div>
            </div>
            <div class="price-container">
                <span class="new-price">299 جنيه</span>
                <span class="old-price">399 جنيه</span>
                <span class="savings">وفر 100 جنيه!</span>
            </div>
            <p class="promo-text">اطلب خلال الوقت المتبقي واحصل على توصيل مجاني تمامًا!</p>
            <div id="countdown-timer">
                <div class="timer-box"><span id="hours">01</span><div class="timer-label">ساعة</div></div>
                <div class="timer-box"><span id="minutes">00</span><div class="timer-label">دقيقة</div></div>
                <div class="timer-box"><span id="seconds">00</span><div class="timer-label">ثانية</div></div>
            </div>
            <div id="offer-expired">انتهى عرض التوصيل المجاني!</div>
            <!-- CHANGED href to #order-form -->
            <a href="#order-form" id="main-cta-button" class="cta-button">اطلبه الآن بسعر العرض 299 جنيه!</a>
        </div>
    </header>

    <main>
        <section id="features" class="section section-light">
            <div class="container"><h2>لماذا تختار الباب الشبكي من متجرنا؟</h2><div class="features-grid"><div class="feature"><h3>حماية فعالة من الحشرات</h3><p>مصنوع من شبكة فايبر جلاس متينة تمنع دخول البعوض والذباب مع السماح بمرور الهواء النقي.</p></div><div class="feature"><h3>إغلاق مغناطيسي ذاتي</h3><p>مزود بمغناطيسات قوية تضمن إغلاق الباب بشكل فوري وسلس بمجرد المرور من خلاله.</p></div><div class="feature"><h3>صديق للأطفال والحيوانات الأليفة</h3><p>يسمح للأطفال والحيوانات الأليفة بالدخول والخروج بحرية تامة دون الحاجة للمساعدة.</p></div><div class="feature"><h3>سهل التركيب والاستخدام</h3><p>لا حاجة لأي أدوات خاصة. يمكنك تثبيته في دقائق معدودة على الأبواب حتى مقاس 99x210 سم.</p></div><div class="feature"><h3>تصميم شديد التحمل</h3><p>مصنوع من ألياف زجاجية مقاومة للتمزق مع إطار كامل لمزيد من الثبات والمتانة.</p></div><div class="feature"><h3>تصميم أنيق وعملي</h3><p>يتميز بتصميم قابل للسحب يضيف لمسة جمالية لمنزلك دون التأثير على الديكور.</p></div></div></div>
        </section>
        
        <section id="gallery" class="section">
            <div class="container">
                <h2>شاهد المنتج عن قرب</h2>
                <div class="gallery-grid">
                    <img src="https://m.media-amazon.com/images/I/81eZo36AGUS._AC_SL1500_.jpg" alt="باب شبكي مغناطيسي مثبت على الباب">
                    <img src="https://m.media-amazon.com/images/I/71pb2SkaxPL._AC_SL1500_.jpg" alt="إغلاق مغناطيسي قوي">
                    <img src="https://m.media-amazon.com/images/I/81EKdrqg-kL._AC_SL1500_.jpg" alt="سهولة مرور الحيوانات الأليفة">
                    <img src="https://m.media-amazon.com/images/I/81RtY252WpL._AC_SL1500_.jpg" alt="شبكة فايبر جلاس متينة">
                    <img src="https://m.media-amazon.com/images/I/812YeOV32KL._AC_SL1500_.jpg" alt="مناسب للأطفال">
                    <img src="https://m.media-amazon.com/images/I/71btG-y1aGL._AC_SL1500_.jpg" alt="خطوات التركيب السهلة">
                    <img src="https://m.media-amazon.com/images/I/71gPccYWVyL._AC_SL1500_.jpg" alt="تفاصيل الشبكة والمغناطيس">
                </div>
            </div>
        </section>

        <section id="testimonials" class="section section-light">
            <div class="container"><h2>شوف رأي عملائنا في المنتج</h2><div class="testimonials"><q>المنتج ده تحفة وعملي أوي، بجد ريحني من حشرات الصيف وقرفها. أنصح بيه جدًا.</q><footer>- أحمد</footer></div><hr style="width:50%; margin: 30px auto; border-color: #ddd;"><div class="testimonials"><q>تركيبه سهل جدًا ومخدش وقت، والعيال والكلب بيدخلوا ويخرجوا براحتهم من غير أي مساعدة. شكرًا يا نور ستور!</q><footer>- فاطمة</footer></div></div>
        </section>
        <section id="faq" class="section">
             <div class="container"><h2>أسئلة شائعة</h2><div class="faq"><details><summary>هل يناسب الباب الشبكي جميع أنواع الأبواب؟</summary><p>نعم، يناسب معظم الأبواب القياسية حتى مقاس 99 سم × 2.1 متر. يرجى قياس بابك قبل الشراء للتأكد من المقاس المناسب.</p></details><details><summary>هل يمكنني تركيبه بنفسي؟</summary><p>بالتأكيد! يأتي الباب مع كل ما تحتاجه للتركيب السريع والسهل دون الحاجة لأي أدوات خاصة.</p></details><details><summary>هل هو آمن للأطفال؟</summary><p>نعم، الباب الشبكي المغناطيسي آمن تمامًا للأطفال ومصنوع من مواد عالية الجودة.</p></details><details><summary>هل يمكنني إزالته في فصل الشتاء؟</summary><p>نعم، يمكن إزالته وتخزينه بسهولة عند عدم الحاجة إليه.</p></details></div></div>
        </section>
        
        <section id="order-section" class="section-light">
             <div class="container">
                <h2 id="form-title">اطلب الآن واستفد من التوصيل المجاني!</h2>
                <div class="price-container">
                    <div class="price-box">
                        <span class="new-price">299 جنيه</span>
                        <span class="old-price">399 جنيه</span>
                    </div>
                    <div class="savings">
                        وفر 100 جنيه!
                    </div>
                </div>
                <p style="margin-top: 25px;">املأ النموذج التالي لتأكيد طلبك قبل انتهاء الوقت.</p>
                <!-- ADDED id="order-form" -->
                <form action="[هنا تضع رابط معالجة الطلب]" method="POST" class="order-form" id="order-form">
                    <div class="form-group"><label for="name">الاسم بالكامل</label><input type="text" id="name" name="name" placeholder="مثال: محمد أحمد" required></div>
                    <div class="form-group"><label for="phone">رقم الهاتف (ضروري للتوصيل)</label><input type="tel" id="phone" name="phone" placeholder="مثال: 01012345678" required style="direction: ltr; text-align: right;"><div id="phone-error"></div></div>
                    <div class="form-group"><label for="address">العنوان بالتفصيل</label><input type="text" id="address" name="address" placeholder="المحافظة - المدينة - الحي - اسم الشارع ورقم المبنى" required></div>
                    <div class="form-group"><label for="quantity">الكمية</label><input type="number" id="quantity" name="quantity" value="1" min="1" required style="direction: ltr; text-align: right;"></div>
                    <div class="form-group"><label for="notes">ملاحظات (اختياري)</label><textarea id="notes" name="notes" placeholder="هل لديك أي تعليمات خاصة بالتوصيل؟ اكتبها هنا."></textarea></div>
                    <button type="submit" class="cta-button">تأكيد الطلب الآن</button>
                </form>
             </div>
        </section>
    </main>
    
    <!-- CHANGED href to #order-form -->
    <a href="#order-form" id="floating-cta-button" class="cta-button">اطلب الآن بتوصيل مجاني</a>

    <div class="lightbox" id="lightbox">
        <span class="lightbox-close">×</span>
        <span class="lightbox-nav lightbox-prev">❮</span>
        <img src="" class="lightbox-content" id="lightbox-img">
        <span class="lightbox-nav lightbox-next">❯</span>
        <div class="lightbox-zoom-controls">
            <span class="lightbox-zoom-btn" id="zoom-in">+</span>
            <span class="lightbox-zoom-btn" id="zoom-out">-</span>
        </div>
    </div>

    <script>
        function initializeApp() {
            function setupTimer() {
                const duration = 60 * 60; 
                let timer = duration; 
                let intervalId;
                const elements = { 
                    timerDisplay: document.getElementById('countdown-timer'), 
                    hours: document.getElementById('hours'), 
                    minutes: document.getElementById('minutes'), 
                    seconds: document.getElementById('seconds'), 
                    mainCtaButton: document.getElementById('main-cta-button'), 
                    offerExpiredMessage: document.getElementById('offer-expired'), 
                    formTitle: document.getElementById('form-title'), 
                    floatingBtn: document.getElementById('floating-cta-button') 
                };
                function updateTimer() {
                    if (timer < 0) {
                        clearInterval(intervalId);
                        if(elements.timerDisplay) elements.timerDisplay.style.display = 'none';
                        if(elements.offerExpiredMessage) elements.offerExpiredMessage.style.display = 'block';
                        if(elements.mainCtaButton) elements.mainCtaButton.textContent = 'اطلب المنتج الآن';
                        if(elements.formTitle) elements.formTitle.textContent = 'اطلب المنتج الآن';
                        if(elements.floatingBtn) elements.floatingBtn.textContent = 'اطلب الآن';
                        return;
                    }
                    let h = Math.floor(timer / 3600), m = Math.floor((timer % 3600) / 60), s = timer % 60;
                    if(elements.hours) elements.hours.textContent = h < 10 ? '0' + h : h;
                    if(elements.minutes) elements.minutes.textContent = m < 10 ? '0' + m : m;
                    if(elements.seconds) elements.seconds.textContent = s < 10 ? '0' + s : s;
                    timer--;
                }
                updateTimer(); 
                intervalId = setInterval(updateTimer, 1000);
            }
            
            function setupFloatingButton() {
                const floatingButton = document.getElementById('floating-cta-button');
                const orderForm = document.getElementById('order-form'); // WATCH THE FORM
                const mainCtaButton = document.getElementById('main-cta-button');

                if(!floatingButton || !orderForm || !mainCtaButton) return;

                window.addEventListener('scroll', function() {
                    const mainButtonRect = mainCtaButton.getBoundingClientRect();
                    const orderFormRect = orderForm.getBoundingClientRect(); // GET FORM'S POSITION
                    
                    const shouldShow = mainButtonRect.bottom < 0;
                    const shouldHide = orderFormRect.top < window.innerHeight; // CHECK FORM'S POSITION

                    if (shouldShow && !shouldHide) { 
                        floatingButton.classList.add('visible'); 
                    } else { 
                        floatingButton.classList.remove('visible'); 
                    }
                });
            }

            function setupFormValidation() {
                const orderForm = document.getElementById('order-form'), 
                      phoneInput = document.getElementById('phone'), 
                      phoneError = document.getElementById('phone-error');
                if(!orderForm || !phoneInput || !phoneError) return;

                phoneInput.addEventListener('input', function(e) { 
                    const sanitizedValue = e.target.value.replace(/[^0-9\u0660-\u0669+]/g, ''); 
                    if (e.target.value !== sanitizedValue) { e.target.value = sanitizedValue; } 
                });

                orderForm.addEventListener('submit', function(event) {
                    event.preventDefault(); 
                    phoneError.textContent = '';
                    let phoneNumber = phoneInput.value.replace(/[\u0660-\u0669\u06F0-\u06F9]/g, d => d.charCodeAt(0) & 0x0F).replace(/\s/g, '');
                    
                    if (phoneNumber.startsWith('+2')) phoneNumber = phoneNumber.substring(2);
                    if (phoneNumber.length !== 11) { 
                        phoneError.textContent = 'الرقم يجب أن يتكون من 11 رقمًا بالضبط.'; 
                        return; 
                    }
                    const validPrefixes = ['010', '011', '012', '015'];
                    if (!validPrefixes.some(prefix => phoneNumber.startsWith(prefix))) { 
                        phoneError.textContent = 'يجب أن يبدأ الرقم بـ 010, 011, 012, أو 015.'; 
                        return; 
                    }
                    orderForm.submit();
                });
            }

            function setupLightbox() {
                const lightbox = document.getElementById('lightbox'); 
                if (!lightbox) return;

                const lightboxImg = document.getElementById('lightbox-img'), 
                      galleryImages = document.querySelectorAll('.gallery-grid img'), 
                      closeBtn = document.querySelector('.lightbox-close'), 
                      prevBtn = document.querySelector('.lightbox-prev'), 
                      nextBtn = document.querySelector('.lightbox-next'), 
                      zoomInBtn = document.getElementById('zoom-in'), 
                      zoomOutBtn = document.getElementById('zoom-out');
                let currentIndex = 0, zoomLevel = 1;

                function applyZoom() { lightboxImg.style.transform = `scale(${zoomLevel})`; }
                function resetZoom() { zoomLevel = 1; applyZoom(); }
                function showLightbox(index) { currentIndex = index; lightboxImg.src = galleryImages[currentIndex].src; lightbox.classList.add('active'); resetZoom(); }
                function hideLightbox() { lightbox.classList.remove('active'); }
                function showNextImage() { currentIndex = (currentIndex + 1) % galleryImages.length; lightboxImg.src = galleryImages[currentIndex].src; resetZoom(); }
                function showPrevImage() { currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length; lightboxImg.src = galleryImages[currentIndex].src; resetZoom(); }
                
                galleryImages.forEach((img, index) => { img.addEventListener('click', () => showLightbox(index)); });
                closeBtn.addEventListener('click', hideLightbox);
                nextBtn.addEventListener('click', showNextImage);
                prevBtn.addEventListener('click', showPrevImage);
                zoomInBtn.addEventListener('click', () => { zoomLevel += 0.2; applyZoom(); });
                zoomOutBtn.addEventListener('click', () => { if (zoomLevel > 0.5) { zoomLevel -= 0.2; applyZoom(); } });
                lightboxImg.addEventListener('wheel', (e) => { e.preventDefault(); if (e.deltaY < 0) { zoomLevel += 0.1; } else { if (zoomLevel > 0.5) zoomLevel -= 0.1; } applyZoom(); });
                lightbox.addEventListener('click', (e) => { if (e.target === lightbox) hideLightbox(); });
                document.addEventListener('keydown', (e) => {
                    if (lightbox.classList.contains('active')) {
                        if (e.key === 'ArrowRight') showNextImage();
                        else if (e.key === 'ArrowLeft') showPrevImage();
                        else if (e.key === 'Escape') hideLightbox();
                    }
                });
            }

            setupTimer();
            setupFloatingButton();
            setupFormValidation();
            setupLightbox();
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
</body>
</html>
